
import React, {useEffect, useState} from 'react';
import {Line} from 'react-chartjs-2';
import "react-modern-calendar-datepicker/lib/DatePicker.css";
import DatePicker from "react-modern-calendar-datepicker";
import Calendar from "react-modern-calendar-datepicker";

import axios from 'axios';
import '../../assets/css/sb-admin-2.css'
import {MDBInput} from "mdbreact";

const Statistics = () => {
    const [dataList, setDataList] = useState('')
    const [selectedDay, setSelectedDay] = useState(null);
    const [selectedDayRange, setSelectedDayRange] = useState('');

    const lineData = {
        labels: ['2020/01/01',
            '2020-01-02',
            '2020-01-03',
            '2020-01-04',
            '2020-01-05',
            '2020-01-06',
            '2020-01-07',
            '2020-01-08',
            '2020-01-09',
            '2020-01-10',
            '2020-01-11',
            '2020-01-12',
            '2020-01-13',
            '2020-01-14',
            '2020-01-15',
            '2020-01-16',
            '2020-01-17',
            '2020-01-18',
            '2020-01-19',
            '2020-01-20',
            '2020-01-21',
            '2020-01-22',
            '2020-01-23',
            '2020-01-24',
            '2020-01-25',
            '2020-01-26',
            '2020-01-27',
            '2020-01-28',
            '2020-01-29',
            '2020-01-30',
            '2020-01-31',
            '2020-02-01',
            '2020-02-02',
            '2020-02-03',
            '2020-02-04',
            '2020-02-05',
            '2020-02-06',
            '2020-02-07',
            '2020-02-08',
            '2020-02-09',
            '2020-02-10',
            '2020-02-11',
            '2020-02-12',
            '2020-02-13',
            '2020-02-14',
            '2020-02-15',
            '2020-02-16',
            '2020-02-17',
            '2020-02-18',
            '2020-02-19',
            '2020-02-20',
            '2020-02-21',
            '2020-02-22',
            '2020-02-23',
            '2020-02-24',
            '2020-02-25',
            '2020-02-26',
            '2020-02-27',
            '2020-02-28',
            '2020-02-29',
            '2020-03-01',
            '2020-03-02',
            '2020-03-03',
            '2020-03-04',
            '2020-03-05',
            '2020-03-06',
            '2020-03-07',
            '2020-03-08',
            '2020-03-09',
            '2020-03-10',
            '2020-03-11',
            '2020-03-12',
            '2020-03-13',
            '2020-03-14',
            '2020-03-15',
            '2020-03-16',
            '2020-03-17',
            '2020-03-18',
            '2020-03-19',
            '2020-03-20',
            '2020-03-21',
            '2020-03-22',
            '2020-03-23',
            '2020-03-24',
            '2020-03-25',
            '2020-03-26',
            '2020-03-27',
            '2020-03-28',
            '2020-03-29',
            '2020-03-30',
            '2020-03-31',
            '2020-04-01',
            '2020-04-02',
            '2020-04-03',
            '2020-04-04',
            '2020-04-05',
            '2020-04-06',
            '2020-04-07',
            '2020-04-08',
            '2020-04-09',
            '2020-04-10',
            '2020-04-11',
            '2020-04-12',
            '2020-04-13',
            '2020-04-14',
            '2020-04-15',
            '2020-04-16',
            '2020-04-17',
            '2020-04-18',
            '2020-04-19',
            '2020-04-20',
            '2020-04-21',
            '2020-04-22',
            '2020-04-23',
            '2020-04-24',
            '2020-04-25',
            '2020-04-26',
            '2020-04-27',
            '2020-04-28',
            '2020-04-29',
            '2020-04-30',
            '2020-05-01',
            '2020-05-02',
            '2020-05-03',
            '2020-05-04',
            '2020-05-05',
            '2020-05-06',
            '2020-05-07',
            '2020-05-08',
            '2020-05-09',
            '2020-05-10',
            '2020-05-11',
            '2020-05-12',
            '2020-05-13',
            '2020-05-14',
            '2020-05-15',
            '2020-05-16',
            '2020-05-17',
            '2020-05-18',
            '2020-05-19',
            '2020-05-20',
            '2020-05-21',
            '2020-05-22',
            '2020-05-23',
            '2020-05-24',
            '2020-05-25',
            '2020-05-26',
            '2020-05-27',
            '2020-05-28',
            '2020-05-29',
            '2020-05-30',
            '2020-05-31',
            '2020-06-01',
            '2020-06-02',
            '2020-06-03',
            '2020-06-04',
            '2020-06-05',
            '2020-06-06',
            '2020-06-07',
            '2020-06-08',
            '2020-06-09',
            '2020-06-10',
            '2020-06-11',
            '2020-06-12',
            '2020-06-13',
            '2020-06-14',
            '2020-06-15',
            '2020-06-16',
            '2020-06-17',
            '2020-06-18',
            '2020-06-19',
            '2020-06-20',
            '2020-06-21',
            '2020-06-22',
            '2020-06-23',
            '2020-06-24',
            '2020-06-25',
            '2020-06-26',
            '2020-06-27',
            '2020-06-28',
            '2020-06-29',
            '2020-06-30',
            '2020-07-01',
            '2020-07-02',
            '2020-07-03',
            '2020-07-04',
            '2020-07-05',
            '2020-07-06',
            '2020-07-07',
            '2020-07-08',
            '2020-07-09',
            '2020-07-10',
            '2020-07-11',
            '2020-07-12',
            '2020-07-13',
            '2020-07-14',
            '2020-07-15',
            '2020-07-16',
            '2020-07-17',
            '2020-07-18',
            '2020-07-19',
            '2020-07-20',
            '2020-07-21',
            '2020-07-22',
            '2020-07-23',
            '2020-07-24',
            '2020-07-25',
            '2020-07-26',
            '2020-07-27',
            '2020-07-28',
            '2020-07-29',
            '2020-07-30',
            '2020-07-31',
            '2020-08-01',
            '2020-08-02',
            '2020-08-03',
            '2020-08-04',
            '2020-08-05',
            '2020-08-06',
            '2020-08-07',
            '2020-08-08',
            '2020-08-09',
            '2020-08-10',
            '2020-08-11',
            '2020-08-12',
            '2020-08-13',
            '2020-08-14',
            '2020-08-15',
            '2020-08-16',
            '2020-08-17',
            '2020-08-18',
            '2020-08-19',
            '2020-08-20',
            '2020-08-21',
            '2020-08-22',
            '2020-08-23',
            '2020-08-24',
            '2020-08-25',
            '2020-08-26',
            '2020-08-27',
            '2020-08-28',
            '2020-08-29',
            '2020-08-30',
            '2020-08-31'],
        datasets: [
            {
                label: '매출',
                fill: false,
                lineTension: 0.1,
                backgroundColor: 'rgba(75,192,192,0.4)',
                borderColor: 'rgba(139,189,255,1)',
                borderCapStyle: 'butt',
                borderDash: [],
                borderDashOffset: 0.0,
                borderJoinStyle: 'miter',
                pointBorderColor: 'rgba(75,192,192,1)',
                pointBackgroundColor: '#fff',
                pointBorderWidth: 1,
                pointHoverRadius: 5,
                pointHoverBackgroundColor: 'rgba(75,192,192,1)',
                pointHoverBorderColor: 'rgba(220,220,220,1)',
                pointHoverBorderWidth: 2,
                pointRadius: 1,
                pointHitRadius: 10,
                data: [1064037
                    , 808879
                    , 718152
                    , 1225280
                    , 748843
                    , 796372
                    , 680838
                    , 1157653
                    , 449491
                    , 1141854
                    , 812055
                    , 781771
                    , 899382
                    , 786621
                    , 975035
                    , 1271950
                    , 546600
                    , 622181
                    , 679179
                    , 622318
                    , 996232
                    , 374730
                    , 1187159
                    , 725611
                    , 763354
                    , 935625
                    , 733933
                    , 1036480
                    , 267245
                    , 1896954
                    , 773375
                    , 1184473
                    , 1006688
                    , 814969
                    , 605424
                    , 889392
                    , 1258290
                    , 786713
                    , 1084966
                    , 959298
                    , 1121343
                    , 1009588
                    , 568280
                    , 562458
                    , 1037433
                    , 658153
                    , 478075
                    , 715398
                    , 1050415
                    , 1075430
                    , 889115
                    , 841431
                    , 915718
                    , 741201
                    , 1372572
                    , 1130223
                    , 1051144
                    , 716717
                    , 915019
                    , 805840
                    , 1144841
                    , 971555
                    , 433618
                    , 1013409
                    , 641906
                    , 211713
                    , 1070349
                    , 698333
                    , 863987
                    , 1200964
                    , 785365
                    , 699811
                    , 944103
                    , 1347037
                    , 1056160
                    , 960158
                    , 1162650
                    , 1028742
                    , 1052574
                    , 728295
                    , 991075
                    , 1257775
                    , 1138863
                    , 603918
                    , 582272
                    , 777594
                    , 776339
                    , 929434
                    , 1370044
                    , 857776
                    , 611552
                    , 1017980
                    , 1147942
                    , 116051
                    , 677281
                    , 543247
                    , 814044
                    , 407512
                    , 764000
                    , 1255027
                    , 1062689
                    , 947314
                    , 690284
                    , 777492
                    , 483212
                    , 1196305
                    , 1151184
                    , 705506
                    , 897898
                    , 762547
                    , 897149
                    , 1055754
                    , 156295
                    , 1055068
                    , 1107474
                    , 1325682
                    , 788412
                    , 1293015
                    , 720885
                    , 759812
                    , 1371351
                    , 810663
                    , 1238558
                    , 1426102
                    , 907494
                    , 618270
                    , 1095025
                    , 771302
                    , 1140971
                    , 678720
                    , 1305427
                    , 968820
                    , 740740
                    , 1012583
                    , 871996
                    , 869896
                    , 616374
                    , 1008150
                    , 1500712
                    , 489537
                    , 939299
                    , 1619708
                    , 999140
                    , 779980
                    , 968911
                    , 987198
                    , 959979
                    , 645711
                    , 761676
                    , 907551
                    , 1440805
                    , 175955
                    , 1152266
                    , 441698
                    , 383286
                    , 366775
                    , 664533
                    , 848565
                    , 876416
                    , 1496728
                    , 657370
                    , 1060847
                    , 1217996
                    , 1626175
                    , 515102
                    , 895785
                    , 1069225
                    , 1157699
                    , 1141174
                    , 336339
                    , 705894
                    , 444253
                    , 650693
                    , 1028362
                    , 895811
                    , 1034142
                    , 794665
                    , 1384789
                    , 965553
                    , 648833
                    , 948227
                    , 1224529
                    , 678180
                    , 1484054
                    , 1072190
                    , 569187
                    , 1082343
                    , 1353993
                    , 559544
                    , 283505
                    , 448321
                    , 788183
                    , 693808
                    , 735500
                    , 973833
                    , 841431
                    , 675710
                    , 375998
                    , 1524378
                    , 1210753
                    , 160865
                    , 1007961
                    , 706039
                    , 462501
                    , 918125
                    , 475099
                    , 682363
                    , 777380
                    , 1215858
                    , 1051138
                    , 692472
                    , 622662
                    , 771076
                    , 861749
                    , 426970
                    , 1024241
                    , 942411
                    , 414501
                    , 881925
                    , 635971
                    , 1141837
                    , 458548
                    , 839039
                    , 691505
                    , 711165
                    , 1223551
                    , 728648
                    , 693851
                    , 879547
                    , 471473
                    , 949120
                    , 868080
                    , 483302
                    , 990429
                    , 794052
                    , 1116305
                    , 949280
                    , 239976
                    , 967515
                    , 1340911
                    , 1197138
                    , 968413
                    , 618785
                    , 752980]
            }
        ]
    };

    const lineD = {
        labels: [
            '1월', '2월', '3월', '4월',
            '5월', '6월', '7월', '8월'
        ],
        datasets: [
            {
                label: '월 별 매출',
                fill: false,
                lineTension: 0.1,
                backgroundColor: 'rgba(75,192,192,0.4)',
                borderColor: 'rgba(139,189,255,1)',
                borderCapStyle: 'butt',
                borderDash: [],
                borderDashOffset: 0.0,
                borderJoinStyle: 'miter',
                pointBorderColor: 'rgba(75,192,192,1)',
                pointBackgroundColor: '#fff',
                pointBorderWidth: 1,
                pointHoverRadius: 5,
                pointHoverBackgroundColor: 'rgba(75,192,192,1)',
                pointHoverBorderColor: 'rgba(220,220,220,1)',
                pointHoverBorderWidth: 2,
                pointRadius: 1,
                pointHitRadius: 10,
                data: [26479189,
                    26245766,
                    27912212,
                    25948412,
                    24257253,
                    25633730,
                    24894450,
                    25263218,
                ]
            }
        ]

    }

    useEffect(() => {
        axios
            .get(`http://localhost:8080/statistics/list`)
            .then(({data}) => {
                setDataList(data.list);
                console.log(data.list);
            })
            .catch(err => {
                throw err;
            });
    }, [])

    return (
        <>
            <nav className="sidebar sidebar-offcanvas">
                <ul className="nav">
                    <li className="nav-item nav-category"><h3>주문 관리</h3></li>
                    <li className="nav-item">
                        <a className="nav-link" href="/order">
                            <span className="menu-title">이사 접수 내역</span>
                        </a>
                    </li>
                    <li className="nav-item">
                        <a className="nav-link" href="/">
                            <span className="menu-title">고객 관리</span>
                        </a>
                    </li>
                    <li className="nav-item">
                        <a className="nav-link" href="statistics">
                            <span className="menu-title">매출 통계</span>
                        </a>
                    </li>
                    <li className="nav-item">
                        <a className="nav-link" href="/">
                            <span className="menu-title">프로모션</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div id="wrapper">
                <div id="page-wrapper">
                    <div className="row">
                        <div className="col-lg-12"><br/>
                            <h2 className="page-header">매출 통계</h2>
                            <h5>*가우시안 정규분포도사용 ,국내 이사비용 통계 (사이트'숨고',4만6천명기준)평균47만원, 표준편차 30만원,이사건수2건</h5>
                            <br/>
                        </div>
                        <div>
                            <div className="panel panel-default">
                                <input type="date"
                                       validate
                                       containerClass='mb-0'
                                />
                                <input type="date"
                                       validate
                                       containerClass='mb-0'
                                />
                            </div>
                        </div>
                        <Line data={lineD}/>
                        <p>
                        </p>
                    </div>
                </div>
            </div>
        </>
    );
};

export default Statistics;